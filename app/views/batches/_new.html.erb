<!-- Sec -->
      <h4><%#= t('initial_batch') %></h4>
      
          <%= fields_for :batches do |batch_form| %>
            <label class="mg-label" for="name"><%= t('name') %></label>
                <div class="input-container">
                    <%= batch_form.text_field :name %>
                </div>

            <label class="mg-label" for="Start date"><%= t('Start date') %></label>
                <div class="input-container">
                    <%= batch_form.text_field :start_date ,:class => 'Start_date' ,:name=> "start_date_name" %>
                </div> 

             <label class="mg-label" for="End date"><%= t('End date') %></label>
                <div class="input-container">
                    <%= batch_form.text_field :end_date ,:id => 'End_date',:name=> "end_date_name" %>
                </div>      
            </div>
          <% end %>

<script>
  $(document).ready(function(){
      dateFormatStr =  getJsDateFormat();
     

$(function () {
    $.validator.addMethod('dateFormat',
    function (value, element) {
      dateFormatStr =  getJsDateFormat();
        if (this.optional(element)) {
            return true;
        }
        var ok = true;
        try {
            $.datepicker.parseDate(dateFormatStr, value);
        }
        catch (err) {
            ok = false;
        }
        return ok;
    },
      "Please enter a date in the format "+ getDateFormat(dateFormatStr) +".");
      dateFormatStr =  getJsDateFormat();

    $(".datefield").datepicker({ dateFormat: dateFormatStr, changeYear: true });
});




    $("#batches").validate({
      rules:{
        "batches_name":{required:true, number:true}
        //"mg_batch[start_date]":{required:true, dateFormat:true},
        //"mg_batch[end_date]":{required:true, dateFormat:true}

      }
    });
  });